:sectnums:
:sectnumlevels: 6
:toc: left
:toclevels: 4
:toc-title: Оглавление

=== Данные. Объекты и артибуты.

Далее описание основных объектов системы.

==== Принятые допущения в ходе решения задания
Пользователя рассматриваем как участника какой-то группы.
Только группа имеет права, пользователь сам не является владельцем прав на изменения какого-либо объекта.

Если какому-то пользователю необходимо создать эксклюзивное право, то для него нужно создать группу (группу для одного участника)
и после добавить право в эту группу.

==== ER диаграмма

image::../images/ER_diagram3.png[]

==== Описание объектов

|===
|*Объект*       |*Атрибуты*     | *Тип*         | *Списание*

.2+|*Person* - Пользователь, которому выдаются права на изменение ресурсов
                |PersonID       | int           | Идентификатор пользователя
                |name           | varchar(255)  | Имя, не используется для связей

.2+| *Group* - Группа, объект объединяющий пользователей со схожими потребностями (должностными инструкциями и тд.)
                |GroupID         | int          | Идентификатор группы
                |GroupName       | varchar(255) | Имя, не используется для связей

.2+| *Role* - Роль, объект группировки прав
                |RoleID          | int          | Идентификатор роли
                |RoleName        | varchar(255) | Имя, не используется для связей

.2+|*Permission* - Право, возможность выполнения действия над ресурсом, предоставляется ролям
                |SourseID        | int           | ИД ресурса
                |ActiviyuName    | varchar(255)  | Название активности

.2+|*Sourse* - Ресурс, объект, подвергающийся изменениям.
                |SourseTypeID    | int           | ИД типа ресурса
                |SourseName      | varchar(255)  | Имя ресурса
|===

==== Описание отношений

При этом я пыталась отобразить следующие связи:

. Каждый Person находится в нескольких Group
. Каждая Group может иметь несколько Person
. Каждая Group может иметь несколько Role
. Каждая Role может быть у нескольких Group
. Каждая Role может иметь несколько Permission
. Каждая Permission может быть у нескольких Role
. Каждая Permission обязана иметь ровно одну связь с Sourse (TODO: не нашла способа рисовать на схеме сплошные стрелки, нужно найти)
. Каждый Sourse может иметь связь с Permission

==== ER диаграмма (вариант 2)

Если нормализовать, то получается как на схеме ниже.
Появились новые сущности:

* ListPersonsInGroup - связка Person и Group, сохраняет список участников группы
* ListRoles - связка Group и Role, сохраняет список ролей у группы
* ListPermissions - связка Role и Permission, сохраняет список прав у роли

image::../images/ER_diagram5.png[]